library(MASS)
simulation <- function(colnames, N,sd, correlationmatrix, dateiname){
  mu <- numeric(length(sd))
  covMat <- sd %*% t(sd) * correlationmatrix
  data <- mvrnorm(n =250, mu = mu, Sigma = covMat, empirical = TRUE)
  colnames(data) <- colnames
  write.csv(data, dateiname, row.names = FALSE)
  return(data)
}
sds<- c(1.40, 2.10, 1.30, 2.30, 2.40, 1.90, 2.00, 2.90, 2.30, 3.10, 2.20, 1.20)
cor <- matrix(c
              (1.00, 0.78, 0.80, 0.56, 0.52, 0.59, 0.16, 0.19, 0.12, 0.16, 0.16, 0.16,
               0.78, 1.00, 0.77, 0.51, 0.51, 0.51, 0.15, 0.13, 0.17, 0.13, 0.14, 0.15,
               0.80, 0.77, 1.00, 0.48, 0.46, 0.51, 0.17, 0.18, 0.17, 0.17, 0.18, 0.14,
               0.56, 0.51, 0.48, 1.00, 0.78, 0.80, 0.14, 0.14, 0.17, 0.15, 0.15, 0.16, 
               0.52, 0.51, 0.56, 0.78, 1.00, 0.79, 0.18, 0.16, 0.20, 0.16, 0.16, 0.16,
               0.59, 0.51, 0.51, 0.80, 0.79, 1.00, 0.16, 0.16, 0.16, 0.18, 0.18, 0.14,
               0.16, 0.15, 0.17, 0.14, 0.18, 0.16, 1.00, 0.81, 0.75, 0.56, 0.51, 0.52,
               0.19, 0.13, 0.18, 0.14, 0.16, 0.16, 0.81, 1.00, 0.80, 0.52, 0.58, 0.57,
               0.12, 0.17, 0.17, 0.17, 0.20, 0.16, 0.75, 0.80, 1.00, 0.50, 0.51, 0.52,
               0.16, 0.13, 0.17, 0.15, 0.16, 0.18, 0.56, 0.52, 0.50, 1.00, 0.81, 0.80,
               0.16, 0.14, 0.18, 0.15, 0.16, 0.18, 0.51, 0.58, 0.51, 0.81, 1.00, 0.79,
               0.16, 0.15, 0.14, 0.16, 0.16, 0.14, 0.52, 0.57, 0.52, 0.80, 0.79, 1.00
                ), nrow=12)

simulation(c("P1", "P2", "P3", "C1", "C2", "C3","E1", "E2", "E3", "S1", "S2", "S3"), 
           275,sd=sds, cor, "case23.csv" )
